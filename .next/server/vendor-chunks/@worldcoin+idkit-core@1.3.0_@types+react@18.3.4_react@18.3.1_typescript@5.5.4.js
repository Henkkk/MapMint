"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4";
exports.ids = ["vendor-chunks/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeAction: () => (/* binding */ encodeAction),\n/* harmony export */   generateSignal: () => (/* binding */ generateSignal),\n/* harmony export */   hashToField: () => (/* binding */ hashToField),\n/* harmony export */   packAndEncode: () => (/* binding */ packAndEncode),\n/* harmony export */   solidityEncode: () => (/* binding */ solidityEncode)\n/* harmony export */ });\n/* harmony import */ var buffer_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer/index.js */ \"(ssr)/./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/data/isBytes.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/abi/encodePacked.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/hash/keccak256.js\");\n// src/lib/hashing.ts\n\n\nfunction hashToField(input) {\n  if ((0,viem__WEBPACK_IMPORTED_MODULE_1__.isBytes)(input) || (0,viem__WEBPACK_IMPORTED_MODULE_2__.isHex)(input)) return hashEncodedBytes(input);\n  return hashString(input);\n}\nfunction packAndEncode(input) {\n  const [types, values] = input.reduce(\n    ([types2, values2], [type, value]) => {\n      types2.push(type);\n      values2.push(value);\n      return [types2, values2];\n    },\n    [[], []]\n  );\n  return hashEncodedBytes((0,viem__WEBPACK_IMPORTED_MODULE_3__.encodePacked)(types, values));\n}\nfunction hashString(input) {\n  const bytesInput = buffer_index_js__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(input);\n  return hashEncodedBytes(bytesInput);\n}\nfunction hashEncodedBytes(input) {\n  const hash = BigInt((0,viem__WEBPACK_IMPORTED_MODULE_4__.keccak256)(input)) >> 8n;\n  const rawDigest = hash.toString(16);\n  return { hash, digest: `0x${rawDigest.padStart(64, \"0\")}` };\n}\nvar solidityEncode = (types, values) => {\n  if (types.length !== values.length) {\n    throw new Error(\"Types and values arrays must have the same length.\");\n  }\n  return { types, values };\n};\nvar generateSignal = (signal) => {\n  if (!signal || typeof signal === \"string\") return hashToField(signal ?? \"\");\n  return packAndEncode(signal.types.map((type, index) => [type, signal.values[index]]));\n};\nvar encodeAction = (action) => {\n  if (!action) return \"\";\n  if (typeof action === \"string\") return action;\n  return action.types.map((type, index) => `${type}(${action.values[index]})`).join(\",\");\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9jaHVuay1RTjdKVEpBUS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDeUM7QUFDc0I7QUFDL0Q7QUFDQSxNQUFNLDZDQUFPLFdBQVcsMkNBQUs7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMEJBQTBCLGtEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxxQkFBcUIsbURBQU07QUFDM0I7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtDQUFTO0FBQy9CO0FBQ0EsV0FBVyxtQkFBbUIsNEJBQTRCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxLQUFLLEdBQUcscUJBQXFCO0FBQzNFOztBQVFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLXJvdXRlci10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ad29ybGRjb2luK2lka2l0LWNvcmVAMS4zLjBfQHR5cGVzK3JlYWN0QDE4LjMuNF9yZWFjdEAxOC4zLjFfdHlwZXNjcmlwdEA1LjUuNC9ub2RlX21vZHVsZXMvQHdvcmxkY29pbi9pZGtpdC1jb3JlL2J1aWxkL2NodW5rLVFON0pUSkFRLmpzP2YzZWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9oYXNoaW5nLnRzXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYWNrZWQsIGlzQnl0ZXMsIGlzSGV4LCBrZWNjYWsyNTYgfSBmcm9tIFwidmllbVwiO1xuZnVuY3Rpb24gaGFzaFRvRmllbGQoaW5wdXQpIHtcbiAgaWYgKGlzQnl0ZXMoaW5wdXQpIHx8IGlzSGV4KGlucHV0KSkgcmV0dXJuIGhhc2hFbmNvZGVkQnl0ZXMoaW5wdXQpO1xuICByZXR1cm4gaGFzaFN0cmluZyhpbnB1dCk7XG59XG5mdW5jdGlvbiBwYWNrQW5kRW5jb2RlKGlucHV0KSB7XG4gIGNvbnN0IFt0eXBlcywgdmFsdWVzXSA9IGlucHV0LnJlZHVjZShcbiAgICAoW3R5cGVzMiwgdmFsdWVzMl0sIFt0eXBlLCB2YWx1ZV0pID0+IHtcbiAgICAgIHR5cGVzMi5wdXNoKHR5cGUpO1xuICAgICAgdmFsdWVzMi5wdXNoKHZhbHVlKTtcbiAgICAgIHJldHVybiBbdHlwZXMyLCB2YWx1ZXMyXTtcbiAgICB9LFxuICAgIFtbXSwgW11dXG4gICk7XG4gIHJldHVybiBoYXNoRW5jb2RlZEJ5dGVzKGVuY29kZVBhY2tlZCh0eXBlcywgdmFsdWVzKSk7XG59XG5mdW5jdGlvbiBoYXNoU3RyaW5nKGlucHV0KSB7XG4gIGNvbnN0IGJ5dGVzSW5wdXQgPSBCdWZmZXIuZnJvbShpbnB1dCk7XG4gIHJldHVybiBoYXNoRW5jb2RlZEJ5dGVzKGJ5dGVzSW5wdXQpO1xufVxuZnVuY3Rpb24gaGFzaEVuY29kZWRCeXRlcyhpbnB1dCkge1xuICBjb25zdCBoYXNoID0gQmlnSW50KGtlY2NhazI1NihpbnB1dCkpID4+IDhuO1xuICBjb25zdCByYXdEaWdlc3QgPSBoYXNoLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIHsgaGFzaCwgZGlnZXN0OiBgMHgke3Jhd0RpZ2VzdC5wYWRTdGFydCg2NCwgXCIwXCIpfWAgfTtcbn1cbnZhciBzb2xpZGl0eUVuY29kZSA9ICh0eXBlcywgdmFsdWVzKSA9PiB7XG4gIGlmICh0eXBlcy5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUeXBlcyBhbmQgdmFsdWVzIGFycmF5cyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlwiKTtcbiAgfVxuICByZXR1cm4geyB0eXBlcywgdmFsdWVzIH07XG59O1xudmFyIGdlbmVyYXRlU2lnbmFsID0gKHNpZ25hbCkgPT4ge1xuICBpZiAoIXNpZ25hbCB8fCB0eXBlb2Ygc2lnbmFsID09PSBcInN0cmluZ1wiKSByZXR1cm4gaGFzaFRvRmllbGQoc2lnbmFsID8/IFwiXCIpO1xuICByZXR1cm4gcGFja0FuZEVuY29kZShzaWduYWwudHlwZXMubWFwKCh0eXBlLCBpbmRleCkgPT4gW3R5cGUsIHNpZ25hbC52YWx1ZXNbaW5kZXhdXSkpO1xufTtcbnZhciBlbmNvZGVBY3Rpb24gPSAoYWN0aW9uKSA9PiB7XG4gIGlmICghYWN0aW9uKSByZXR1cm4gXCJcIjtcbiAgaWYgKHR5cGVvZiBhY3Rpb24gPT09IFwic3RyaW5nXCIpIHJldHVybiBhY3Rpb247XG4gIHJldHVybiBhY3Rpb24udHlwZXMubWFwKCh0eXBlLCBpbmRleCkgPT4gYCR7dHlwZX0oJHthY3Rpb24udmFsdWVzW2luZGV4XX0pYCkuam9pbihcIixcIik7XG59O1xuXG5leHBvcnQge1xuICBoYXNoVG9GaWVsZCxcbiAgcGFja0FuZEVuY29kZSxcbiAgc29saWRpdHlFbmNvZGUsXG4gIGdlbmVyYXRlU2lnbmFsLFxuICBlbmNvZGVBY3Rpb25cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/index.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/index.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppErrorCodes: () => (/* binding */ AppErrorCodes),\n/* harmony export */   CredentialType: () => (/* binding */ CredentialType),\n/* harmony export */   DEFAULT_VERIFICATION_LEVEL: () => (/* binding */ DEFAULT_VERIFICATION_LEVEL),\n/* harmony export */   VerificationLevel: () => (/* binding */ VerificationLevel),\n/* harmony export */   VerificationState: () => (/* binding */ VerificationState),\n/* harmony export */   useWorldBridgeStore: () => (/* binding */ useWorldBridgeStore),\n/* harmony export */   verification_level_to_credential_types: () => (/* binding */ verification_level_to_credential_types)\n/* harmony export */ });\n/* harmony import */ var _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-QN7JTJAQ.js */ \"(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/.pnpm/zustand@4.5.5_@types+react@18.3.4_react@18.3.1/node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var buffer_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer/index.js */ \"(ssr)/./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js\");\n\n\n// src/types/bridge.ts\nvar AppErrorCodes = /* @__PURE__ */ ((AppErrorCodes2) => {\n  AppErrorCodes2[\"ConnectionFailed\"] = \"connection_failed\";\n  AppErrorCodes2[\"VerificationRejected\"] = \"verification_rejected\";\n  AppErrorCodes2[\"MaxVerificationsReached\"] = \"max_verifications_reached\";\n  AppErrorCodes2[\"CredentialUnavailable\"] = \"credential_unavailable\";\n  AppErrorCodes2[\"MalformedRequest\"] = \"malformed_request\";\n  AppErrorCodes2[\"InvalidNetwork\"] = \"invalid_network\";\n  AppErrorCodes2[\"InclusionProofFailed\"] = \"inclusion_proof_failed\";\n  AppErrorCodes2[\"InclusionProofPending\"] = \"inclusion_proof_pending\";\n  AppErrorCodes2[\"UnexpectedResponse\"] = \"unexpected_response\";\n  AppErrorCodes2[\"FailedByHostApp\"] = \"failed_by_host_app\";\n  AppErrorCodes2[\"GenericError\"] = \"generic_error\";\n  return AppErrorCodes2;\n})(AppErrorCodes || {});\nvar VerificationState = /* @__PURE__ */ ((VerificationState2) => {\n  VerificationState2[\"PreparingClient\"] = \"loading_widget\";\n  VerificationState2[\"WaitingForConnection\"] = \"awaiting_connection\";\n  VerificationState2[\"WaitingForApp\"] = \"awaiting_app\";\n  VerificationState2[\"Confirmed\"] = \"confirmed\";\n  VerificationState2[\"Failed\"] = \"failed\";\n  return VerificationState2;\n})(VerificationState || {});\n\n// src/types/config.ts\nvar CredentialType = /* @__PURE__ */ ((CredentialType2) => {\n  CredentialType2[\"Orb\"] = \"orb\";\n  CredentialType2[\"Device\"] = \"device\";\n  return CredentialType2;\n})(CredentialType || {});\nvar VerificationLevel = /* @__PURE__ */ ((VerificationLevel2) => {\n  VerificationLevel2[\"Orb\"] = \"orb\";\n  VerificationLevel2[\"Device\"] = \"device\";\n  return VerificationLevel2;\n})(VerificationLevel || {});\n\n// src/bridge.ts\n\n\n// src/lib/validation.ts\nfunction validate_bridge_url(bridge_url, is_staging) {\n  try {\n    new URL(bridge_url);\n  } catch (e) {\n    return { valid: false, errors: [\"Failed to parse Bridge URL.\"] };\n  }\n  const test_url = new URL(bridge_url);\n  const errors = [];\n  if (is_staging && [\"localhost\", \"127.0.0.1\"].includes(test_url.hostname)) {\n    console.log(\"Using staging app_id with localhost bridge_url. Skipping validation.\");\n    return { valid: true };\n  }\n  if (test_url.protocol !== \"https:\") {\n    errors.push(\"Bridge URL must use HTTPS.\");\n  }\n  if (test_url.port) {\n    errors.push(\"Bridge URL must use the default port (443).\");\n  }\n  if (test_url.pathname !== \"/\") {\n    errors.push(\"Bridge URL must not have a path.\");\n  }\n  if (test_url.search) {\n    errors.push(\"Bridge URL must not have query parameters.\");\n  }\n  if (test_url.hash) {\n    errors.push(\"Bridge URL must not have a fragment.\");\n  }\n  if (!test_url.hostname.endsWith(\".worldcoin.org\") && !test_url.hostname.endsWith(\".toolsforhumanity.com\")) {\n    console.warn(\n      \"Bridge URL should be a subdomain of worldcoin.org or toolsforhumanity.com. The user's identity wallet may refuse to connect. This is a temporary measure and may be removed in the future.\"\n    );\n  }\n  if (errors.length) {\n    return { valid: false, errors };\n  }\n  return { valid: true };\n}\n\n// src/lib/utils.ts\n\nvar DEFAULT_VERIFICATION_LEVEL = \"orb\" /* Orb */;\nvar buffer_encode = (buffer) => {\n  return buffer_index_js__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(buffer).toString(\"base64\");\n};\nvar buffer_decode = (encoded) => {\n  return buffer_index_js__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(encoded, \"base64\");\n};\nvar verification_level_to_credential_types = (verification_level) => {\n  switch (verification_level) {\n    case \"device\" /* Device */:\n      return [\"orb\" /* Orb */, \"device\" /* Device */];\n    case \"orb\" /* Orb */:\n      return [\"orb\" /* Orb */];\n    default:\n      throw new Error(`Unknown verification level: ${verification_level}`);\n  }\n};\nvar credential_type_to_verification_level = (credential_type) => {\n  switch (credential_type) {\n    case \"orb\" /* Orb */:\n      return \"orb\" /* Orb */;\n    case \"device\" /* Device */:\n      return \"device\" /* Device */;\n    default:\n      throw new Error(`Unknown credential_type: ${credential_type}`);\n  }\n};\n\n// src/lib/crypto.ts\nvar encoder = new TextEncoder();\nvar decoder = new TextDecoder();\nvar generateKey = async () => {\n  return {\n    iv: window.crypto.getRandomValues(new Uint8Array(12)),\n    key: await window.crypto.subtle.generateKey({ name: \"AES-GCM\", length: 256 }, true, [\"encrypt\", \"decrypt\"])\n  };\n};\nvar exportKey = async (key) => {\n  return buffer_encode(await window.crypto.subtle.exportKey(\"raw\", key));\n};\nvar encryptRequest = async (key, iv, request) => {\n  return {\n    iv: buffer_encode(iv),\n    payload: buffer_encode(\n      await window.crypto.subtle.encrypt({ name: \"AES-GCM\", iv }, key, encoder.encode(request))\n    )\n  };\n};\nvar decryptResponse = async (key, iv, payload) => {\n  return decoder.decode(await window.crypto.subtle.decrypt({ name: \"AES-GCM\", iv }, key, buffer_decode(payload)));\n};\n\n// src/bridge.ts\nvar DEFAULT_BRIDGE_URL = \"https://bridge.worldcoin.org\";\nvar useWorldBridgeStore = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)((set, get) => ({\n  iv: null,\n  key: null,\n  result: null,\n  errorCode: null,\n  requestId: null,\n  connectorURI: null,\n  bridge_url: DEFAULT_BRIDGE_URL,\n  verificationState: \"loading_widget\" /* PreparingClient */,\n  createClient: async ({ bridge_url, app_id, verification_level, action_description, action, signal }) => {\n    const { key, iv } = await generateKey();\n    if (bridge_url) {\n      const validation = validate_bridge_url(bridge_url, app_id.includes(\"staging\"));\n      if (!validation.valid) {\n        console.error(validation.errors.join(\"\\n\"));\n        set({ verificationState: \"failed\" /* Failed */ });\n        throw new Error(\"Invalid bridge_url. Please check the console for more details.\");\n      }\n    }\n    const res = await fetch(new URL(\"/request\", bridge_url ?? DEFAULT_BRIDGE_URL), {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(\n        await encryptRequest(\n          key,\n          iv,\n          JSON.stringify({\n            app_id,\n            action_description,\n            action: (0,_chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.encodeAction)(action),\n            signal: (0,_chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.generateSignal)(signal).digest,\n            credential_types: verification_level_to_credential_types(\n              verification_level ?? DEFAULT_VERIFICATION_LEVEL\n            ),\n            verification_level: verification_level ?? DEFAULT_VERIFICATION_LEVEL\n          })\n        )\n      )\n    });\n    if (!res.ok) {\n      set({ verificationState: \"failed\" /* Failed */ });\n      throw new Error(\"Failed to create client\");\n    }\n    const { request_id } = await res.json();\n    set({\n      iv,\n      key,\n      requestId: request_id,\n      bridge_url: bridge_url ?? DEFAULT_BRIDGE_URL,\n      verificationState: \"awaiting_connection\" /* WaitingForConnection */,\n      connectorURI: `https://worldcoin.org/verify?t=wld&i=${request_id}&k=${encodeURIComponent(\n        await exportKey(key)\n      )}${bridge_url && bridge_url !== DEFAULT_BRIDGE_URL ? `&b=${encodeURIComponent(bridge_url)}` : \"\"}`\n    });\n  },\n  pollForUpdates: async () => {\n    const key = get().key;\n    if (!key) throw new Error(\"No keypair found. Please call `createClient` first.\");\n    const res = await fetch(new URL(`/response/${get().requestId}`, get().bridge_url));\n    if (!res.ok) {\n      return set({\n        errorCode: \"connection_failed\" /* ConnectionFailed */,\n        verificationState: \"failed\" /* Failed */\n      });\n    }\n    const { response, status } = await res.json();\n    if (status != \"completed\" /* Completed */) {\n      return set({\n        verificationState: status == \"retrieved\" /* Retrieved */ ? \"awaiting_app\" /* WaitingForApp */ : \"awaiting_connection\" /* WaitingForConnection */\n      });\n    }\n    let result = JSON.parse(\n      await decryptResponse(key, buffer_decode(response.iv), response.payload)\n    );\n    if (\"error_code\" in result) {\n      return set({\n        errorCode: result.error_code,\n        verificationState: \"failed\" /* Failed */\n      });\n    }\n    if (\"credential_type\" in result) {\n      result = {\n        verification_level: credential_type_to_verification_level(result.credential_type),\n        ...result\n      };\n    }\n    set({\n      result,\n      key: null,\n      requestId: null,\n      connectorURI: null,\n      verificationState: \"confirmed\" /* Confirmed */\n    });\n  },\n  reset: () => {\n    set({\n      iv: null,\n      key: null,\n      result: null,\n      errorCode: null,\n      requestId: null,\n      connectorURI: null,\n      verificationState: \"loading_widget\" /* PreparingClient */\n    });\n  }\n}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRzZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUI7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5Qjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0JBQXNCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5QkFBeUI7O0FBRTFCO0FBQ2lDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUN5QztBQUN6QztBQUNBO0FBQ0EsU0FBUyxtREFBTTtBQUNmO0FBQ0E7QUFDQSxTQUFTLG1EQUFNO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxtQkFBbUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGdCQUFnQjtBQUNsRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCw4QkFBOEI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHFCQUFxQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxxQkFBcUI7QUFDbEY7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQiwrQ0FBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDRFQUE0RTtBQUNyRyxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBDQUEwQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9DQUFvQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnRUFBWTtBQUNoQyxvQkFBb0Isa0VBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksMENBQTBDO0FBQ3REO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFdBQVcsS0FBSztBQUM1RTtBQUNBLFFBQVEsRUFBRSx3REFBd0QsK0JBQStCLE9BQU87QUFDeEcsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsZ0JBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFTQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC1yb3V0ZXItdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9pbmRleC5qcz9mMjFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGVuY29kZUFjdGlvbixcbiAgZ2VuZXJhdGVTaWduYWxcbn0gZnJvbSBcIi4vY2h1bmstUU43SlRKQVEuanNcIjtcblxuLy8gc3JjL3R5cGVzL2JyaWRnZS50c1xudmFyIEFwcEVycm9yQ29kZXMgPSAvKiBAX19QVVJFX18gKi8gKChBcHBFcnJvckNvZGVzMikgPT4ge1xuICBBcHBFcnJvckNvZGVzMltcIkNvbm5lY3Rpb25GYWlsZWRcIl0gPSBcImNvbm5lY3Rpb25fZmFpbGVkXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiVmVyaWZpY2F0aW9uUmVqZWN0ZWRcIl0gPSBcInZlcmlmaWNhdGlvbl9yZWplY3RlZFwiO1xuICBBcHBFcnJvckNvZGVzMltcIk1heFZlcmlmaWNhdGlvbnNSZWFjaGVkXCJdID0gXCJtYXhfdmVyaWZpY2F0aW9uc19yZWFjaGVkXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiQ3JlZGVudGlhbFVuYXZhaWxhYmxlXCJdID0gXCJjcmVkZW50aWFsX3VuYXZhaWxhYmxlXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiTWFsZm9ybWVkUmVxdWVzdFwiXSA9IFwibWFsZm9ybWVkX3JlcXVlc3RcIjtcbiAgQXBwRXJyb3JDb2RlczJbXCJJbnZhbGlkTmV0d29ya1wiXSA9IFwiaW52YWxpZF9uZXR3b3JrXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiSW5jbHVzaW9uUHJvb2ZGYWlsZWRcIl0gPSBcImluY2x1c2lvbl9wcm9vZl9mYWlsZWRcIjtcbiAgQXBwRXJyb3JDb2RlczJbXCJJbmNsdXNpb25Qcm9vZlBlbmRpbmdcIl0gPSBcImluY2x1c2lvbl9wcm9vZl9wZW5kaW5nXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiVW5leHBlY3RlZFJlc3BvbnNlXCJdID0gXCJ1bmV4cGVjdGVkX3Jlc3BvbnNlXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiRmFpbGVkQnlIb3N0QXBwXCJdID0gXCJmYWlsZWRfYnlfaG9zdF9hcHBcIjtcbiAgQXBwRXJyb3JDb2RlczJbXCJHZW5lcmljRXJyb3JcIl0gPSBcImdlbmVyaWNfZXJyb3JcIjtcbiAgcmV0dXJuIEFwcEVycm9yQ29kZXMyO1xufSkoQXBwRXJyb3JDb2RlcyB8fCB7fSk7XG52YXIgVmVyaWZpY2F0aW9uU3RhdGUgPSAvKiBAX19QVVJFX18gKi8gKChWZXJpZmljYXRpb25TdGF0ZTIpID0+IHtcbiAgVmVyaWZpY2F0aW9uU3RhdGUyW1wiUHJlcGFyaW5nQ2xpZW50XCJdID0gXCJsb2FkaW5nX3dpZGdldFwiO1xuICBWZXJpZmljYXRpb25TdGF0ZTJbXCJXYWl0aW5nRm9yQ29ubmVjdGlvblwiXSA9IFwiYXdhaXRpbmdfY29ubmVjdGlvblwiO1xuICBWZXJpZmljYXRpb25TdGF0ZTJbXCJXYWl0aW5nRm9yQXBwXCJdID0gXCJhd2FpdGluZ19hcHBcIjtcbiAgVmVyaWZpY2F0aW9uU3RhdGUyW1wiQ29uZmlybWVkXCJdID0gXCJjb25maXJtZWRcIjtcbiAgVmVyaWZpY2F0aW9uU3RhdGUyW1wiRmFpbGVkXCJdID0gXCJmYWlsZWRcIjtcbiAgcmV0dXJuIFZlcmlmaWNhdGlvblN0YXRlMjtcbn0pKFZlcmlmaWNhdGlvblN0YXRlIHx8IHt9KTtcblxuLy8gc3JjL3R5cGVzL2NvbmZpZy50c1xudmFyIENyZWRlbnRpYWxUeXBlID0gLyogQF9fUFVSRV9fICovICgoQ3JlZGVudGlhbFR5cGUyKSA9PiB7XG4gIENyZWRlbnRpYWxUeXBlMltcIk9yYlwiXSA9IFwib3JiXCI7XG4gIENyZWRlbnRpYWxUeXBlMltcIkRldmljZVwiXSA9IFwiZGV2aWNlXCI7XG4gIHJldHVybiBDcmVkZW50aWFsVHlwZTI7XG59KShDcmVkZW50aWFsVHlwZSB8fCB7fSk7XG52YXIgVmVyaWZpY2F0aW9uTGV2ZWwgPSAvKiBAX19QVVJFX18gKi8gKChWZXJpZmljYXRpb25MZXZlbDIpID0+IHtcbiAgVmVyaWZpY2F0aW9uTGV2ZWwyW1wiT3JiXCJdID0gXCJvcmJcIjtcbiAgVmVyaWZpY2F0aW9uTGV2ZWwyW1wiRGV2aWNlXCJdID0gXCJkZXZpY2VcIjtcbiAgcmV0dXJuIFZlcmlmaWNhdGlvbkxldmVsMjtcbn0pKFZlcmlmaWNhdGlvbkxldmVsIHx8IHt9KTtcblxuLy8gc3JjL2JyaWRnZS50c1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcblxuLy8gc3JjL2xpYi92YWxpZGF0aW9uLnRzXG5mdW5jdGlvbiB2YWxpZGF0ZV9icmlkZ2VfdXJsKGJyaWRnZV91cmwsIGlzX3N0YWdpbmcpIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKGJyaWRnZV91cmwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcnM6IFtcIkZhaWxlZCB0byBwYXJzZSBCcmlkZ2UgVVJMLlwiXSB9O1xuICB9XG4gIGNvbnN0IHRlc3RfdXJsID0gbmV3IFVSTChicmlkZ2VfdXJsKTtcbiAgY29uc3QgZXJyb3JzID0gW107XG4gIGlmIChpc19zdGFnaW5nICYmIFtcImxvY2FsaG9zdFwiLCBcIjEyNy4wLjAuMVwiXS5pbmNsdWRlcyh0ZXN0X3VybC5ob3N0bmFtZSkpIHtcbiAgICBjb25zb2xlLmxvZyhcIlVzaW5nIHN0YWdpbmcgYXBwX2lkIHdpdGggbG9jYWxob3N0IGJyaWRnZV91cmwuIFNraXBwaW5nIHZhbGlkYXRpb24uXCIpO1xuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XG4gIH1cbiAgaWYgKHRlc3RfdXJsLnByb3RvY29sICE9PSBcImh0dHBzOlwiKSB7XG4gICAgZXJyb3JzLnB1c2goXCJCcmlkZ2UgVVJMIG11c3QgdXNlIEhUVFBTLlwiKTtcbiAgfVxuICBpZiAodGVzdF91cmwucG9ydCkge1xuICAgIGVycm9ycy5wdXNoKFwiQnJpZGdlIFVSTCBtdXN0IHVzZSB0aGUgZGVmYXVsdCBwb3J0ICg0NDMpLlwiKTtcbiAgfVxuICBpZiAodGVzdF91cmwucGF0aG5hbWUgIT09IFwiL1wiKSB7XG4gICAgZXJyb3JzLnB1c2goXCJCcmlkZ2UgVVJMIG11c3Qgbm90IGhhdmUgYSBwYXRoLlwiKTtcbiAgfVxuICBpZiAodGVzdF91cmwuc2VhcmNoKSB7XG4gICAgZXJyb3JzLnB1c2goXCJCcmlkZ2UgVVJMIG11c3Qgbm90IGhhdmUgcXVlcnkgcGFyYW1ldGVycy5cIik7XG4gIH1cbiAgaWYgKHRlc3RfdXJsLmhhc2gpIHtcbiAgICBlcnJvcnMucHVzaChcIkJyaWRnZSBVUkwgbXVzdCBub3QgaGF2ZSBhIGZyYWdtZW50LlwiKTtcbiAgfVxuICBpZiAoIXRlc3RfdXJsLmhvc3RuYW1lLmVuZHNXaXRoKFwiLndvcmxkY29pbi5vcmdcIikgJiYgIXRlc3RfdXJsLmhvc3RuYW1lLmVuZHNXaXRoKFwiLnRvb2xzZm9yaHVtYW5pdHkuY29tXCIpKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJCcmlkZ2UgVVJMIHNob3VsZCBiZSBhIHN1YmRvbWFpbiBvZiB3b3JsZGNvaW4ub3JnIG9yIHRvb2xzZm9yaHVtYW5pdHkuY29tLiBUaGUgdXNlcidzIGlkZW50aXR5IHdhbGxldCBtYXkgcmVmdXNlIHRvIGNvbm5lY3QuIFRoaXMgaXMgYSB0ZW1wb3JhcnkgbWVhc3VyZSBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cIlxuICAgICk7XG4gIH1cbiAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9ycyB9O1xuICB9XG4gIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XG59XG5cbi8vIHNyYy9saWIvdXRpbHMudHNcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXIvaW5kZXguanNcIjtcbnZhciBERUZBVUxUX1ZFUklGSUNBVElPTl9MRVZFTCA9IFwib3JiXCIgLyogT3JiICovO1xudmFyIGJ1ZmZlcl9lbmNvZGUgPSAoYnVmZmVyKSA9PiB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShidWZmZXIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xufTtcbnZhciBidWZmZXJfZGVjb2RlID0gKGVuY29kZWQpID0+IHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGVuY29kZWQsIFwiYmFzZTY0XCIpO1xufTtcbnZhciB2ZXJpZmljYXRpb25fbGV2ZWxfdG9fY3JlZGVudGlhbF90eXBlcyA9ICh2ZXJpZmljYXRpb25fbGV2ZWwpID0+IHtcbiAgc3dpdGNoICh2ZXJpZmljYXRpb25fbGV2ZWwpIHtcbiAgICBjYXNlIFwiZGV2aWNlXCIgLyogRGV2aWNlICovOlxuICAgICAgcmV0dXJuIFtcIm9yYlwiIC8qIE9yYiAqLywgXCJkZXZpY2VcIiAvKiBEZXZpY2UgKi9dO1xuICAgIGNhc2UgXCJvcmJcIiAvKiBPcmIgKi86XG4gICAgICByZXR1cm4gW1wib3JiXCIgLyogT3JiICovXTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHZlcmlmaWNhdGlvbiBsZXZlbDogJHt2ZXJpZmljYXRpb25fbGV2ZWx9YCk7XG4gIH1cbn07XG52YXIgY3JlZGVudGlhbF90eXBlX3RvX3ZlcmlmaWNhdGlvbl9sZXZlbCA9IChjcmVkZW50aWFsX3R5cGUpID0+IHtcbiAgc3dpdGNoIChjcmVkZW50aWFsX3R5cGUpIHtcbiAgICBjYXNlIFwib3JiXCIgLyogT3JiICovOlxuICAgICAgcmV0dXJuIFwib3JiXCIgLyogT3JiICovO1xuICAgIGNhc2UgXCJkZXZpY2VcIiAvKiBEZXZpY2UgKi86XG4gICAgICByZXR1cm4gXCJkZXZpY2VcIiAvKiBEZXZpY2UgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjcmVkZW50aWFsX3R5cGU6ICR7Y3JlZGVudGlhbF90eXBlfWApO1xuICB9XG59O1xuXG4vLyBzcmMvbGliL2NyeXB0by50c1xudmFyIGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbnZhciBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG52YXIgZ2VuZXJhdGVLZXkgPSBhc3luYyAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgaXY6IHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEyKSksXG4gICAga2V5OiBhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleSh7IG5hbWU6IFwiQUVTLUdDTVwiLCBsZW5ndGg6IDI1NiB9LCB0cnVlLCBbXCJlbmNyeXB0XCIsIFwiZGVjcnlwdFwiXSlcbiAgfTtcbn07XG52YXIgZXhwb3J0S2V5ID0gYXN5bmMgKGtleSkgPT4ge1xuICByZXR1cm4gYnVmZmVyX2VuY29kZShhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoXCJyYXdcIiwga2V5KSk7XG59O1xudmFyIGVuY3J5cHRSZXF1ZXN0ID0gYXN5bmMgKGtleSwgaXYsIHJlcXVlc3QpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpdjogYnVmZmVyX2VuY29kZShpdiksXG4gICAgcGF5bG9hZDogYnVmZmVyX2VuY29kZShcbiAgICAgIGF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoeyBuYW1lOiBcIkFFUy1HQ01cIiwgaXYgfSwga2V5LCBlbmNvZGVyLmVuY29kZShyZXF1ZXN0KSlcbiAgICApXG4gIH07XG59O1xudmFyIGRlY3J5cHRSZXNwb25zZSA9IGFzeW5jIChrZXksIGl2LCBwYXlsb2FkKSA9PiB7XG4gIHJldHVybiBkZWNvZGVyLmRlY29kZShhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHsgbmFtZTogXCJBRVMtR0NNXCIsIGl2IH0sIGtleSwgYnVmZmVyX2RlY29kZShwYXlsb2FkKSkpO1xufTtcblxuLy8gc3JjL2JyaWRnZS50c1xudmFyIERFRkFVTFRfQlJJREdFX1VSTCA9IFwiaHR0cHM6Ly9icmlkZ2Uud29ybGRjb2luLm9yZ1wiO1xudmFyIHVzZVdvcmxkQnJpZGdlU3RvcmUgPSBjcmVhdGUoKHNldCwgZ2V0KSA9PiAoe1xuICBpdjogbnVsbCxcbiAga2V5OiBudWxsLFxuICByZXN1bHQ6IG51bGwsXG4gIGVycm9yQ29kZTogbnVsbCxcbiAgcmVxdWVzdElkOiBudWxsLFxuICBjb25uZWN0b3JVUkk6IG51bGwsXG4gIGJyaWRnZV91cmw6IERFRkFVTFRfQlJJREdFX1VSTCxcbiAgdmVyaWZpY2F0aW9uU3RhdGU6IFwibG9hZGluZ193aWRnZXRcIiAvKiBQcmVwYXJpbmdDbGllbnQgKi8sXG4gIGNyZWF0ZUNsaWVudDogYXN5bmMgKHsgYnJpZGdlX3VybCwgYXBwX2lkLCB2ZXJpZmljYXRpb25fbGV2ZWwsIGFjdGlvbl9kZXNjcmlwdGlvbiwgYWN0aW9uLCBzaWduYWwgfSkgPT4ge1xuICAgIGNvbnN0IHsga2V5LCBpdiB9ID0gYXdhaXQgZ2VuZXJhdGVLZXkoKTtcbiAgICBpZiAoYnJpZGdlX3VybCkge1xuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlX2JyaWRnZV91cmwoYnJpZGdlX3VybCwgYXBwX2lkLmluY2x1ZGVzKFwic3RhZ2luZ1wiKSk7XG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcih2YWxpZGF0aW9uLmVycm9ycy5qb2luKFwiXFxuXCIpKTtcbiAgICAgICAgc2V0KHsgdmVyaWZpY2F0aW9uU3RhdGU6IFwiZmFpbGVkXCIgLyogRmFpbGVkICovIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJyaWRnZV91cmwuIFBsZWFzZSBjaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2gobmV3IFVSTChcIi9yZXF1ZXN0XCIsIGJyaWRnZV91cmwgPz8gREVGQVVMVF9CUklER0VfVVJMKSwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBhd2FpdCBlbmNyeXB0UmVxdWVzdChcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgaXYsXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgYXBwX2lkLFxuICAgICAgICAgICAgYWN0aW9uX2Rlc2NyaXB0aW9uLFxuICAgICAgICAgICAgYWN0aW9uOiBlbmNvZGVBY3Rpb24oYWN0aW9uKSxcbiAgICAgICAgICAgIHNpZ25hbDogZ2VuZXJhdGVTaWduYWwoc2lnbmFsKS5kaWdlc3QsXG4gICAgICAgICAgICBjcmVkZW50aWFsX3R5cGVzOiB2ZXJpZmljYXRpb25fbGV2ZWxfdG9fY3JlZGVudGlhbF90eXBlcyhcbiAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2xldmVsID8/IERFRkFVTFRfVkVSSUZJQ0FUSU9OX0xFVkVMXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2xldmVsOiB2ZXJpZmljYXRpb25fbGV2ZWwgPz8gREVGQVVMVF9WRVJJRklDQVRJT05fTEVWRUxcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHNldCh7IHZlcmlmaWNhdGlvblN0YXRlOiBcImZhaWxlZFwiIC8qIEZhaWxlZCAqLyB9KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgY2xpZW50XCIpO1xuICAgIH1cbiAgICBjb25zdCB7IHJlcXVlc3RfaWQgfSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgc2V0KHtcbiAgICAgIGl2LFxuICAgICAga2V5LFxuICAgICAgcmVxdWVzdElkOiByZXF1ZXN0X2lkLFxuICAgICAgYnJpZGdlX3VybDogYnJpZGdlX3VybCA/PyBERUZBVUxUX0JSSURHRV9VUkwsXG4gICAgICB2ZXJpZmljYXRpb25TdGF0ZTogXCJhd2FpdGluZ19jb25uZWN0aW9uXCIgLyogV2FpdGluZ0ZvckNvbm5lY3Rpb24gKi8sXG4gICAgICBjb25uZWN0b3JVUkk6IGBodHRwczovL3dvcmxkY29pbi5vcmcvdmVyaWZ5P3Q9d2xkJmk9JHtyZXF1ZXN0X2lkfSZrPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICBhd2FpdCBleHBvcnRLZXkoa2V5KVxuICAgICAgKX0ke2JyaWRnZV91cmwgJiYgYnJpZGdlX3VybCAhPT0gREVGQVVMVF9CUklER0VfVVJMID8gYCZiPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGJyaWRnZV91cmwpfWAgOiBcIlwifWBcbiAgICB9KTtcbiAgfSxcbiAgcG9sbEZvclVwZGF0ZXM6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBrZXkgPSBnZXQoKS5rZXk7XG4gICAgaWYgKCFrZXkpIHRocm93IG5ldyBFcnJvcihcIk5vIGtleXBhaXIgZm91bmQuIFBsZWFzZSBjYWxsIGBjcmVhdGVDbGllbnRgIGZpcnN0LlwiKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChuZXcgVVJMKGAvcmVzcG9uc2UvJHtnZXQoKS5yZXF1ZXN0SWR9YCwgZ2V0KCkuYnJpZGdlX3VybCkpO1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICByZXR1cm4gc2V0KHtcbiAgICAgICAgZXJyb3JDb2RlOiBcImNvbm5lY3Rpb25fZmFpbGVkXCIgLyogQ29ubmVjdGlvbkZhaWxlZCAqLyxcbiAgICAgICAgdmVyaWZpY2F0aW9uU3RhdGU6IFwiZmFpbGVkXCIgLyogRmFpbGVkICovXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyByZXNwb25zZSwgc3RhdHVzIH0gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmIChzdGF0dXMgIT0gXCJjb21wbGV0ZWRcIiAvKiBDb21wbGV0ZWQgKi8pIHtcbiAgICAgIHJldHVybiBzZXQoe1xuICAgICAgICB2ZXJpZmljYXRpb25TdGF0ZTogc3RhdHVzID09IFwicmV0cmlldmVkXCIgLyogUmV0cmlldmVkICovID8gXCJhd2FpdGluZ19hcHBcIiAvKiBXYWl0aW5nRm9yQXBwICovIDogXCJhd2FpdGluZ19jb25uZWN0aW9uXCIgLyogV2FpdGluZ0ZvckNvbm5lY3Rpb24gKi9cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gSlNPTi5wYXJzZShcbiAgICAgIGF3YWl0IGRlY3J5cHRSZXNwb25zZShrZXksIGJ1ZmZlcl9kZWNvZGUocmVzcG9uc2UuaXYpLCByZXNwb25zZS5wYXlsb2FkKVxuICAgICk7XG4gICAgaWYgKFwiZXJyb3JfY29kZVwiIGluIHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHNldCh7XG4gICAgICAgIGVycm9yQ29kZTogcmVzdWx0LmVycm9yX2NvZGUsXG4gICAgICAgIHZlcmlmaWNhdGlvblN0YXRlOiBcImZhaWxlZFwiIC8qIEZhaWxlZCAqL1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChcImNyZWRlbnRpYWxfdHlwZVwiIGluIHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB2ZXJpZmljYXRpb25fbGV2ZWw6IGNyZWRlbnRpYWxfdHlwZV90b192ZXJpZmljYXRpb25fbGV2ZWwocmVzdWx0LmNyZWRlbnRpYWxfdHlwZSksXG4gICAgICAgIC4uLnJlc3VsdFxuICAgICAgfTtcbiAgICB9XG4gICAgc2V0KHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIGtleTogbnVsbCxcbiAgICAgIHJlcXVlc3RJZDogbnVsbCxcbiAgICAgIGNvbm5lY3RvclVSSTogbnVsbCxcbiAgICAgIHZlcmlmaWNhdGlvblN0YXRlOiBcImNvbmZpcm1lZFwiIC8qIENvbmZpcm1lZCAqL1xuICAgIH0pO1xuICB9LFxuICByZXNldDogKCkgPT4ge1xuICAgIHNldCh7XG4gICAgICBpdjogbnVsbCxcbiAgICAgIGtleTogbnVsbCxcbiAgICAgIHJlc3VsdDogbnVsbCxcbiAgICAgIGVycm9yQ29kZTogbnVsbCxcbiAgICAgIHJlcXVlc3RJZDogbnVsbCxcbiAgICAgIGNvbm5lY3RvclVSSTogbnVsbCxcbiAgICAgIHZlcmlmaWNhdGlvblN0YXRlOiBcImxvYWRpbmdfd2lkZ2V0XCIgLyogUHJlcGFyaW5nQ2xpZW50ICovXG4gICAgfSk7XG4gIH1cbn0pKTtcbmV4cG9ydCB7XG4gIEFwcEVycm9yQ29kZXMsXG4gIENyZWRlbnRpYWxUeXBlLFxuICBERUZBVUxUX1ZFUklGSUNBVElPTl9MRVZFTCxcbiAgVmVyaWZpY2F0aW9uTGV2ZWwsXG4gIFZlcmlmaWNhdGlvblN0YXRlLFxuICB1c2VXb3JsZEJyaWRnZVN0b3JlLFxuICB2ZXJpZmljYXRpb25fbGV2ZWxfdG9fY3JlZGVudGlhbF90eXBlc1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/backend.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/backend.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   verifyCloudProof: () => (/* binding */ verifyCloudProof)\n/* harmony export */ });\n/* harmony import */ var _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-QN7JTJAQ.js */ \"(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\");\n/* harmony import */ var browser_or_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! browser-or-node */ \"(ssr)/./node_modules/.pnpm/browser-or-node@3.0.0-pre.0/node_modules/browser-or-node/dist/index.mjs\");\n\n\n// src/lib/backend.ts\n\nasync function verifyCloudProof(proof, app_id, action, signal, endpoint) {\n  if (browser_or_node__WEBPACK_IMPORTED_MODULE_1__.isBrowser) {\n    throw new Error(\"verifyCloudProof can only be used in the backend.\");\n  }\n  const response = await fetch(endpoint ?? `https://developer.worldcoin.org/api/v2/verify/${app_id}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ...proof,\n      action,\n      signal_hash: (0,_chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.hashToField)(signal ?? \"\").digest\n    })\n  });\n  if (response.ok) {\n    return { success: true };\n  } else {\n    return { success: false, ...await response.json() };\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9saWIvYmFja2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBQzRDO0FBQzVDO0FBQ0EsTUFBTSxzREFBUztBQUNmO0FBQ0E7QUFDQSw0RkFBNEYsT0FBTztBQUNuRztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtEQUFXO0FBQzlCLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxhQUFhO0FBQ2IsSUFBSTtBQUNKLGFBQWE7QUFDYjtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAtcm91dGVyLXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3b3JsZGNvaW4raWRraXQtY29yZUAxLjMuMF9AdHlwZXMrcmVhY3RAMTguMy40X3JlYWN0QDE4LjMuMV90eXBlc2NyaXB0QDUuNS40L25vZGVfbW9kdWxlcy9Ad29ybGRjb2luL2lka2l0LWNvcmUvYnVpbGQvbGliL2JhY2tlbmQuanM/ZWVlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXNoVG9GaWVsZFxufSBmcm9tIFwiLi4vY2h1bmstUU43SlRKQVEuanNcIjtcblxuLy8gc3JjL2xpYi9iYWNrZW5kLnRzXG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tIFwiYnJvd3Nlci1vci1ub2RlXCI7XG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlDbG91ZFByb29mKHByb29mLCBhcHBfaWQsIGFjdGlvbiwgc2lnbmFsLCBlbmRwb2ludCkge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidmVyaWZ5Q2xvdWRQcm9vZiBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBiYWNrZW5kLlwiKTtcbiAgfVxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50ID8/IGBodHRwczovL2RldmVsb3Blci53b3JsZGNvaW4ub3JnL2FwaS92Mi92ZXJpZnkvJHthcHBfaWR9YCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIC4uLnByb29mLFxuICAgICAgYWN0aW9uLFxuICAgICAgc2lnbmFsX2hhc2g6IGhhc2hUb0ZpZWxkKHNpZ25hbCA/PyBcIlwiKS5kaWdlc3RcbiAgICB9KVxuICB9KTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCAuLi5hd2FpdCByZXNwb25zZS5qc29uKCkgfTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgdmVyaWZ5Q2xvdWRQcm9vZlxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/backend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/hashing.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/hashing.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeAction: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.encodeAction),\n/* harmony export */   generateSignal: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.generateSignal),\n/* harmony export */   hashToField: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.hashToField),\n/* harmony export */   packAndEncode: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.packAndEncode),\n/* harmony export */   solidityEncode: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.solidityEncode)\n/* harmony export */ });\n/* harmony import */ var _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-QN7JTJAQ.js */ \"(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9saWIvaGFzaGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFNOEI7QUFPNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAtcm91dGVyLXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3b3JsZGNvaW4raWRraXQtY29yZUAxLjMuMF9AdHlwZXMrcmVhY3RAMTguMy40X3JlYWN0QDE4LjMuMV90eXBlc2NyaXB0QDUuNS40L25vZGVfbW9kdWxlcy9Ad29ybGRjb2luL2lka2l0LWNvcmUvYnVpbGQvbGliL2hhc2hpbmcuanM/NDUyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBlbmNvZGVBY3Rpb24sXG4gIGdlbmVyYXRlU2lnbmFsLFxuICBoYXNoVG9GaWVsZCxcbiAgcGFja0FuZEVuY29kZSxcbiAgc29saWRpdHlFbmNvZGVcbn0gZnJvbSBcIi4uL2NodW5rLVFON0pUSkFRLmpzXCI7XG5leHBvcnQge1xuICBlbmNvZGVBY3Rpb24sXG4gIGdlbmVyYXRlU2lnbmFsLFxuICBoYXNoVG9GaWVsZCxcbiAgcGFja0FuZEVuY29kZSxcbiAgc29saWRpdHlFbmNvZGVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/hashing.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeAction: () => (/* binding */ encodeAction),\n/* harmony export */   generateSignal: () => (/* binding */ generateSignal),\n/* harmony export */   hashToField: () => (/* binding */ hashToField),\n/* harmony export */   packAndEncode: () => (/* binding */ packAndEncode),\n/* harmony export */   solidityEncode: () => (/* binding */ solidityEncode)\n/* harmony export */ });\n/* harmony import */ var buffer_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer/index.js */ \"(rsc)/./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/data/isBytes.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/abi/encodePacked.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/.pnpm/viem@2.20.0_typescript@5.5.4/node_modules/viem/_esm/utils/hash/keccak256.js\");\n// src/lib/hashing.ts\n\n\nfunction hashToField(input) {\n  if ((0,viem__WEBPACK_IMPORTED_MODULE_1__.isBytes)(input) || (0,viem__WEBPACK_IMPORTED_MODULE_2__.isHex)(input)) return hashEncodedBytes(input);\n  return hashString(input);\n}\nfunction packAndEncode(input) {\n  const [types, values] = input.reduce(\n    ([types2, values2], [type, value]) => {\n      types2.push(type);\n      values2.push(value);\n      return [types2, values2];\n    },\n    [[], []]\n  );\n  return hashEncodedBytes((0,viem__WEBPACK_IMPORTED_MODULE_3__.encodePacked)(types, values));\n}\nfunction hashString(input) {\n  const bytesInput = buffer_index_js__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(input);\n  return hashEncodedBytes(bytesInput);\n}\nfunction hashEncodedBytes(input) {\n  const hash = BigInt((0,viem__WEBPACK_IMPORTED_MODULE_4__.keccak256)(input)) >> 8n;\n  const rawDigest = hash.toString(16);\n  return { hash, digest: `0x${rawDigest.padStart(64, \"0\")}` };\n}\nvar solidityEncode = (types, values) => {\n  if (types.length !== values.length) {\n    throw new Error(\"Types and values arrays must have the same length.\");\n  }\n  return { types, values };\n};\nvar generateSignal = (signal) => {\n  if (!signal || typeof signal === \"string\") return hashToField(signal ?? \"\");\n  return packAndEncode(signal.types.map((type, index) => [type, signal.values[index]]));\n};\nvar encodeAction = (action) => {\n  if (!action) return \"\";\n  if (typeof action === \"string\") return action;\n  return action.types.map((type, index) => `${type}(${action.values[index]})`).join(\",\");\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9jaHVuay1RTjdKVEpBUS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDeUM7QUFDc0I7QUFDL0Q7QUFDQSxNQUFNLDZDQUFPLFdBQVcsMkNBQUs7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMEJBQTBCLGtEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxxQkFBcUIsbURBQU07QUFDM0I7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtDQUFTO0FBQy9CO0FBQ0EsV0FBVyxtQkFBbUIsNEJBQTRCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxLQUFLLEdBQUcscUJBQXFCO0FBQzNFOztBQVFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLXJvdXRlci10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ad29ybGRjb2luK2lka2l0LWNvcmVAMS4zLjBfQHR5cGVzK3JlYWN0QDE4LjMuNF9yZWFjdEAxOC4zLjFfdHlwZXNjcmlwdEA1LjUuNC9ub2RlX21vZHVsZXMvQHdvcmxkY29pbi9pZGtpdC1jb3JlL2J1aWxkL2NodW5rLVFON0pUSkFRLmpzPzg0ZjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9oYXNoaW5nLnRzXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYWNrZWQsIGlzQnl0ZXMsIGlzSGV4LCBrZWNjYWsyNTYgfSBmcm9tIFwidmllbVwiO1xuZnVuY3Rpb24gaGFzaFRvRmllbGQoaW5wdXQpIHtcbiAgaWYgKGlzQnl0ZXMoaW5wdXQpIHx8IGlzSGV4KGlucHV0KSkgcmV0dXJuIGhhc2hFbmNvZGVkQnl0ZXMoaW5wdXQpO1xuICByZXR1cm4gaGFzaFN0cmluZyhpbnB1dCk7XG59XG5mdW5jdGlvbiBwYWNrQW5kRW5jb2RlKGlucHV0KSB7XG4gIGNvbnN0IFt0eXBlcywgdmFsdWVzXSA9IGlucHV0LnJlZHVjZShcbiAgICAoW3R5cGVzMiwgdmFsdWVzMl0sIFt0eXBlLCB2YWx1ZV0pID0+IHtcbiAgICAgIHR5cGVzMi5wdXNoKHR5cGUpO1xuICAgICAgdmFsdWVzMi5wdXNoKHZhbHVlKTtcbiAgICAgIHJldHVybiBbdHlwZXMyLCB2YWx1ZXMyXTtcbiAgICB9LFxuICAgIFtbXSwgW11dXG4gICk7XG4gIHJldHVybiBoYXNoRW5jb2RlZEJ5dGVzKGVuY29kZVBhY2tlZCh0eXBlcywgdmFsdWVzKSk7XG59XG5mdW5jdGlvbiBoYXNoU3RyaW5nKGlucHV0KSB7XG4gIGNvbnN0IGJ5dGVzSW5wdXQgPSBCdWZmZXIuZnJvbShpbnB1dCk7XG4gIHJldHVybiBoYXNoRW5jb2RlZEJ5dGVzKGJ5dGVzSW5wdXQpO1xufVxuZnVuY3Rpb24gaGFzaEVuY29kZWRCeXRlcyhpbnB1dCkge1xuICBjb25zdCBoYXNoID0gQmlnSW50KGtlY2NhazI1NihpbnB1dCkpID4+IDhuO1xuICBjb25zdCByYXdEaWdlc3QgPSBoYXNoLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIHsgaGFzaCwgZGlnZXN0OiBgMHgke3Jhd0RpZ2VzdC5wYWRTdGFydCg2NCwgXCIwXCIpfWAgfTtcbn1cbnZhciBzb2xpZGl0eUVuY29kZSA9ICh0eXBlcywgdmFsdWVzKSA9PiB7XG4gIGlmICh0eXBlcy5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUeXBlcyBhbmQgdmFsdWVzIGFycmF5cyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlwiKTtcbiAgfVxuICByZXR1cm4geyB0eXBlcywgdmFsdWVzIH07XG59O1xudmFyIGdlbmVyYXRlU2lnbmFsID0gKHNpZ25hbCkgPT4ge1xuICBpZiAoIXNpZ25hbCB8fCB0eXBlb2Ygc2lnbmFsID09PSBcInN0cmluZ1wiKSByZXR1cm4gaGFzaFRvRmllbGQoc2lnbmFsID8/IFwiXCIpO1xuICByZXR1cm4gcGFja0FuZEVuY29kZShzaWduYWwudHlwZXMubWFwKCh0eXBlLCBpbmRleCkgPT4gW3R5cGUsIHNpZ25hbC52YWx1ZXNbaW5kZXhdXSkpO1xufTtcbnZhciBlbmNvZGVBY3Rpb24gPSAoYWN0aW9uKSA9PiB7XG4gIGlmICghYWN0aW9uKSByZXR1cm4gXCJcIjtcbiAgaWYgKHR5cGVvZiBhY3Rpb24gPT09IFwic3RyaW5nXCIpIHJldHVybiBhY3Rpb247XG4gIHJldHVybiBhY3Rpb24udHlwZXMubWFwKCh0eXBlLCBpbmRleCkgPT4gYCR7dHlwZX0oJHthY3Rpb24udmFsdWVzW2luZGV4XX0pYCkuam9pbihcIixcIik7XG59O1xuXG5leHBvcnQge1xuICBoYXNoVG9GaWVsZCxcbiAgcGFja0FuZEVuY29kZSxcbiAgc29saWRpdHlFbmNvZGUsXG4gIGdlbmVyYXRlU2lnbmFsLFxuICBlbmNvZGVBY3Rpb25cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/index.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/index.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppErrorCodes: () => (/* binding */ AppErrorCodes),\n/* harmony export */   CredentialType: () => (/* binding */ CredentialType),\n/* harmony export */   DEFAULT_VERIFICATION_LEVEL: () => (/* binding */ DEFAULT_VERIFICATION_LEVEL),\n/* harmony export */   VerificationLevel: () => (/* binding */ VerificationLevel),\n/* harmony export */   VerificationState: () => (/* binding */ VerificationState),\n/* harmony export */   useWorldBridgeStore: () => (/* binding */ useWorldBridgeStore),\n/* harmony export */   verification_level_to_credential_types: () => (/* binding */ verification_level_to_credential_types)\n/* harmony export */ });\n/* harmony import */ var _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-QN7JTJAQ.js */ \"(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"(rsc)/./node_modules/.pnpm/zustand@4.5.5_@types+react@18.3.4_react@18.3.1/node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var buffer_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer/index.js */ \"(rsc)/./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js\");\n\n\n// src/types/bridge.ts\nvar AppErrorCodes = /* @__PURE__ */ ((AppErrorCodes2) => {\n  AppErrorCodes2[\"ConnectionFailed\"] = \"connection_failed\";\n  AppErrorCodes2[\"VerificationRejected\"] = \"verification_rejected\";\n  AppErrorCodes2[\"MaxVerificationsReached\"] = \"max_verifications_reached\";\n  AppErrorCodes2[\"CredentialUnavailable\"] = \"credential_unavailable\";\n  AppErrorCodes2[\"MalformedRequest\"] = \"malformed_request\";\n  AppErrorCodes2[\"InvalidNetwork\"] = \"invalid_network\";\n  AppErrorCodes2[\"InclusionProofFailed\"] = \"inclusion_proof_failed\";\n  AppErrorCodes2[\"InclusionProofPending\"] = \"inclusion_proof_pending\";\n  AppErrorCodes2[\"UnexpectedResponse\"] = \"unexpected_response\";\n  AppErrorCodes2[\"FailedByHostApp\"] = \"failed_by_host_app\";\n  AppErrorCodes2[\"GenericError\"] = \"generic_error\";\n  return AppErrorCodes2;\n})(AppErrorCodes || {});\nvar VerificationState = /* @__PURE__ */ ((VerificationState2) => {\n  VerificationState2[\"PreparingClient\"] = \"loading_widget\";\n  VerificationState2[\"WaitingForConnection\"] = \"awaiting_connection\";\n  VerificationState2[\"WaitingForApp\"] = \"awaiting_app\";\n  VerificationState2[\"Confirmed\"] = \"confirmed\";\n  VerificationState2[\"Failed\"] = \"failed\";\n  return VerificationState2;\n})(VerificationState || {});\n\n// src/types/config.ts\nvar CredentialType = /* @__PURE__ */ ((CredentialType2) => {\n  CredentialType2[\"Orb\"] = \"orb\";\n  CredentialType2[\"Device\"] = \"device\";\n  return CredentialType2;\n})(CredentialType || {});\nvar VerificationLevel = /* @__PURE__ */ ((VerificationLevel2) => {\n  VerificationLevel2[\"Orb\"] = \"orb\";\n  VerificationLevel2[\"Device\"] = \"device\";\n  return VerificationLevel2;\n})(VerificationLevel || {});\n\n// src/bridge.ts\n\n\n// src/lib/validation.ts\nfunction validate_bridge_url(bridge_url, is_staging) {\n  try {\n    new URL(bridge_url);\n  } catch (e) {\n    return { valid: false, errors: [\"Failed to parse Bridge URL.\"] };\n  }\n  const test_url = new URL(bridge_url);\n  const errors = [];\n  if (is_staging && [\"localhost\", \"127.0.0.1\"].includes(test_url.hostname)) {\n    console.log(\"Using staging app_id with localhost bridge_url. Skipping validation.\");\n    return { valid: true };\n  }\n  if (test_url.protocol !== \"https:\") {\n    errors.push(\"Bridge URL must use HTTPS.\");\n  }\n  if (test_url.port) {\n    errors.push(\"Bridge URL must use the default port (443).\");\n  }\n  if (test_url.pathname !== \"/\") {\n    errors.push(\"Bridge URL must not have a path.\");\n  }\n  if (test_url.search) {\n    errors.push(\"Bridge URL must not have query parameters.\");\n  }\n  if (test_url.hash) {\n    errors.push(\"Bridge URL must not have a fragment.\");\n  }\n  if (!test_url.hostname.endsWith(\".worldcoin.org\") && !test_url.hostname.endsWith(\".toolsforhumanity.com\")) {\n    console.warn(\n      \"Bridge URL should be a subdomain of worldcoin.org or toolsforhumanity.com. The user's identity wallet may refuse to connect. This is a temporary measure and may be removed in the future.\"\n    );\n  }\n  if (errors.length) {\n    return { valid: false, errors };\n  }\n  return { valid: true };\n}\n\n// src/lib/utils.ts\n\nvar DEFAULT_VERIFICATION_LEVEL = \"orb\" /* Orb */;\nvar buffer_encode = (buffer) => {\n  return buffer_index_js__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(buffer).toString(\"base64\");\n};\nvar buffer_decode = (encoded) => {\n  return buffer_index_js__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(encoded, \"base64\");\n};\nvar verification_level_to_credential_types = (verification_level) => {\n  switch (verification_level) {\n    case \"device\" /* Device */:\n      return [\"orb\" /* Orb */, \"device\" /* Device */];\n    case \"orb\" /* Orb */:\n      return [\"orb\" /* Orb */];\n    default:\n      throw new Error(`Unknown verification level: ${verification_level}`);\n  }\n};\nvar credential_type_to_verification_level = (credential_type) => {\n  switch (credential_type) {\n    case \"orb\" /* Orb */:\n      return \"orb\" /* Orb */;\n    case \"device\" /* Device */:\n      return \"device\" /* Device */;\n    default:\n      throw new Error(`Unknown credential_type: ${credential_type}`);\n  }\n};\n\n// src/lib/crypto.ts\nvar encoder = new TextEncoder();\nvar decoder = new TextDecoder();\nvar generateKey = async () => {\n  return {\n    iv: window.crypto.getRandomValues(new Uint8Array(12)),\n    key: await window.crypto.subtle.generateKey({ name: \"AES-GCM\", length: 256 }, true, [\"encrypt\", \"decrypt\"])\n  };\n};\nvar exportKey = async (key) => {\n  return buffer_encode(await window.crypto.subtle.exportKey(\"raw\", key));\n};\nvar encryptRequest = async (key, iv, request) => {\n  return {\n    iv: buffer_encode(iv),\n    payload: buffer_encode(\n      await window.crypto.subtle.encrypt({ name: \"AES-GCM\", iv }, key, encoder.encode(request))\n    )\n  };\n};\nvar decryptResponse = async (key, iv, payload) => {\n  return decoder.decode(await window.crypto.subtle.decrypt({ name: \"AES-GCM\", iv }, key, buffer_decode(payload)));\n};\n\n// src/bridge.ts\nvar DEFAULT_BRIDGE_URL = \"https://bridge.worldcoin.org\";\nvar useWorldBridgeStore = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)((set, get) => ({\n  iv: null,\n  key: null,\n  result: null,\n  errorCode: null,\n  requestId: null,\n  connectorURI: null,\n  bridge_url: DEFAULT_BRIDGE_URL,\n  verificationState: \"loading_widget\" /* PreparingClient */,\n  createClient: async ({ bridge_url, app_id, verification_level, action_description, action, signal }) => {\n    const { key, iv } = await generateKey();\n    if (bridge_url) {\n      const validation = validate_bridge_url(bridge_url, app_id.includes(\"staging\"));\n      if (!validation.valid) {\n        console.error(validation.errors.join(\"\\n\"));\n        set({ verificationState: \"failed\" /* Failed */ });\n        throw new Error(\"Invalid bridge_url. Please check the console for more details.\");\n      }\n    }\n    const res = await fetch(new URL(\"/request\", bridge_url ?? DEFAULT_BRIDGE_URL), {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(\n        await encryptRequest(\n          key,\n          iv,\n          JSON.stringify({\n            app_id,\n            action_description,\n            action: (0,_chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.encodeAction)(action),\n            signal: (0,_chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.generateSignal)(signal).digest,\n            credential_types: verification_level_to_credential_types(\n              verification_level ?? DEFAULT_VERIFICATION_LEVEL\n            ),\n            verification_level: verification_level ?? DEFAULT_VERIFICATION_LEVEL\n          })\n        )\n      )\n    });\n    if (!res.ok) {\n      set({ verificationState: \"failed\" /* Failed */ });\n      throw new Error(\"Failed to create client\");\n    }\n    const { request_id } = await res.json();\n    set({\n      iv,\n      key,\n      requestId: request_id,\n      bridge_url: bridge_url ?? DEFAULT_BRIDGE_URL,\n      verificationState: \"awaiting_connection\" /* WaitingForConnection */,\n      connectorURI: `https://worldcoin.org/verify?t=wld&i=${request_id}&k=${encodeURIComponent(\n        await exportKey(key)\n      )}${bridge_url && bridge_url !== DEFAULT_BRIDGE_URL ? `&b=${encodeURIComponent(bridge_url)}` : \"\"}`\n    });\n  },\n  pollForUpdates: async () => {\n    const key = get().key;\n    if (!key) throw new Error(\"No keypair found. Please call `createClient` first.\");\n    const res = await fetch(new URL(`/response/${get().requestId}`, get().bridge_url));\n    if (!res.ok) {\n      return set({\n        errorCode: \"connection_failed\" /* ConnectionFailed */,\n        verificationState: \"failed\" /* Failed */\n      });\n    }\n    const { response, status } = await res.json();\n    if (status != \"completed\" /* Completed */) {\n      return set({\n        verificationState: status == \"retrieved\" /* Retrieved */ ? \"awaiting_app\" /* WaitingForApp */ : \"awaiting_connection\" /* WaitingForConnection */\n      });\n    }\n    let result = JSON.parse(\n      await decryptResponse(key, buffer_decode(response.iv), response.payload)\n    );\n    if (\"error_code\" in result) {\n      return set({\n        errorCode: result.error_code,\n        verificationState: \"failed\" /* Failed */\n      });\n    }\n    if (\"credential_type\" in result) {\n      result = {\n        verification_level: credential_type_to_verification_level(result.credential_type),\n        ...result\n      };\n    }\n    set({\n      result,\n      key: null,\n      requestId: null,\n      connectorURI: null,\n      verificationState: \"confirmed\" /* Confirmed */\n    });\n  },\n  reset: () => {\n    set({\n      iv: null,\n      key: null,\n      result: null,\n      errorCode: null,\n      requestId: null,\n      connectorURI: null,\n      verificationState: \"loading_widget\" /* PreparingClient */\n    });\n  }\n}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRzZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUI7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5Qjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0JBQXNCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5QkFBeUI7O0FBRTFCO0FBQ2lDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUN5QztBQUN6QztBQUNBO0FBQ0EsU0FBUyxtREFBTTtBQUNmO0FBQ0E7QUFDQSxTQUFTLG1EQUFNO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxtQkFBbUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGdCQUFnQjtBQUNsRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCw4QkFBOEI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHFCQUFxQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxxQkFBcUI7QUFDbEY7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQiwrQ0FBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDRFQUE0RTtBQUNyRyxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBDQUEwQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9DQUFvQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnRUFBWTtBQUNoQyxvQkFBb0Isa0VBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksMENBQTBDO0FBQ3REO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFdBQVcsS0FBSztBQUM1RTtBQUNBLFFBQVEsRUFBRSx3REFBd0QsK0JBQStCLE9BQU87QUFDeEcsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsZ0JBQWdCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFTQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC1yb3V0ZXItdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9pbmRleC5qcz9lOTYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGVuY29kZUFjdGlvbixcbiAgZ2VuZXJhdGVTaWduYWxcbn0gZnJvbSBcIi4vY2h1bmstUU43SlRKQVEuanNcIjtcblxuLy8gc3JjL3R5cGVzL2JyaWRnZS50c1xudmFyIEFwcEVycm9yQ29kZXMgPSAvKiBAX19QVVJFX18gKi8gKChBcHBFcnJvckNvZGVzMikgPT4ge1xuICBBcHBFcnJvckNvZGVzMltcIkNvbm5lY3Rpb25GYWlsZWRcIl0gPSBcImNvbm5lY3Rpb25fZmFpbGVkXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiVmVyaWZpY2F0aW9uUmVqZWN0ZWRcIl0gPSBcInZlcmlmaWNhdGlvbl9yZWplY3RlZFwiO1xuICBBcHBFcnJvckNvZGVzMltcIk1heFZlcmlmaWNhdGlvbnNSZWFjaGVkXCJdID0gXCJtYXhfdmVyaWZpY2F0aW9uc19yZWFjaGVkXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiQ3JlZGVudGlhbFVuYXZhaWxhYmxlXCJdID0gXCJjcmVkZW50aWFsX3VuYXZhaWxhYmxlXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiTWFsZm9ybWVkUmVxdWVzdFwiXSA9IFwibWFsZm9ybWVkX3JlcXVlc3RcIjtcbiAgQXBwRXJyb3JDb2RlczJbXCJJbnZhbGlkTmV0d29ya1wiXSA9IFwiaW52YWxpZF9uZXR3b3JrXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiSW5jbHVzaW9uUHJvb2ZGYWlsZWRcIl0gPSBcImluY2x1c2lvbl9wcm9vZl9mYWlsZWRcIjtcbiAgQXBwRXJyb3JDb2RlczJbXCJJbmNsdXNpb25Qcm9vZlBlbmRpbmdcIl0gPSBcImluY2x1c2lvbl9wcm9vZl9wZW5kaW5nXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiVW5leHBlY3RlZFJlc3BvbnNlXCJdID0gXCJ1bmV4cGVjdGVkX3Jlc3BvbnNlXCI7XG4gIEFwcEVycm9yQ29kZXMyW1wiRmFpbGVkQnlIb3N0QXBwXCJdID0gXCJmYWlsZWRfYnlfaG9zdF9hcHBcIjtcbiAgQXBwRXJyb3JDb2RlczJbXCJHZW5lcmljRXJyb3JcIl0gPSBcImdlbmVyaWNfZXJyb3JcIjtcbiAgcmV0dXJuIEFwcEVycm9yQ29kZXMyO1xufSkoQXBwRXJyb3JDb2RlcyB8fCB7fSk7XG52YXIgVmVyaWZpY2F0aW9uU3RhdGUgPSAvKiBAX19QVVJFX18gKi8gKChWZXJpZmljYXRpb25TdGF0ZTIpID0+IHtcbiAgVmVyaWZpY2F0aW9uU3RhdGUyW1wiUHJlcGFyaW5nQ2xpZW50XCJdID0gXCJsb2FkaW5nX3dpZGdldFwiO1xuICBWZXJpZmljYXRpb25TdGF0ZTJbXCJXYWl0aW5nRm9yQ29ubmVjdGlvblwiXSA9IFwiYXdhaXRpbmdfY29ubmVjdGlvblwiO1xuICBWZXJpZmljYXRpb25TdGF0ZTJbXCJXYWl0aW5nRm9yQXBwXCJdID0gXCJhd2FpdGluZ19hcHBcIjtcbiAgVmVyaWZpY2F0aW9uU3RhdGUyW1wiQ29uZmlybWVkXCJdID0gXCJjb25maXJtZWRcIjtcbiAgVmVyaWZpY2F0aW9uU3RhdGUyW1wiRmFpbGVkXCJdID0gXCJmYWlsZWRcIjtcbiAgcmV0dXJuIFZlcmlmaWNhdGlvblN0YXRlMjtcbn0pKFZlcmlmaWNhdGlvblN0YXRlIHx8IHt9KTtcblxuLy8gc3JjL3R5cGVzL2NvbmZpZy50c1xudmFyIENyZWRlbnRpYWxUeXBlID0gLyogQF9fUFVSRV9fICovICgoQ3JlZGVudGlhbFR5cGUyKSA9PiB7XG4gIENyZWRlbnRpYWxUeXBlMltcIk9yYlwiXSA9IFwib3JiXCI7XG4gIENyZWRlbnRpYWxUeXBlMltcIkRldmljZVwiXSA9IFwiZGV2aWNlXCI7XG4gIHJldHVybiBDcmVkZW50aWFsVHlwZTI7XG59KShDcmVkZW50aWFsVHlwZSB8fCB7fSk7XG52YXIgVmVyaWZpY2F0aW9uTGV2ZWwgPSAvKiBAX19QVVJFX18gKi8gKChWZXJpZmljYXRpb25MZXZlbDIpID0+IHtcbiAgVmVyaWZpY2F0aW9uTGV2ZWwyW1wiT3JiXCJdID0gXCJvcmJcIjtcbiAgVmVyaWZpY2F0aW9uTGV2ZWwyW1wiRGV2aWNlXCJdID0gXCJkZXZpY2VcIjtcbiAgcmV0dXJuIFZlcmlmaWNhdGlvbkxldmVsMjtcbn0pKFZlcmlmaWNhdGlvbkxldmVsIHx8IHt9KTtcblxuLy8gc3JjL2JyaWRnZS50c1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcblxuLy8gc3JjL2xpYi92YWxpZGF0aW9uLnRzXG5mdW5jdGlvbiB2YWxpZGF0ZV9icmlkZ2VfdXJsKGJyaWRnZV91cmwsIGlzX3N0YWdpbmcpIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKGJyaWRnZV91cmwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcnM6IFtcIkZhaWxlZCB0byBwYXJzZSBCcmlkZ2UgVVJMLlwiXSB9O1xuICB9XG4gIGNvbnN0IHRlc3RfdXJsID0gbmV3IFVSTChicmlkZ2VfdXJsKTtcbiAgY29uc3QgZXJyb3JzID0gW107XG4gIGlmIChpc19zdGFnaW5nICYmIFtcImxvY2FsaG9zdFwiLCBcIjEyNy4wLjAuMVwiXS5pbmNsdWRlcyh0ZXN0X3VybC5ob3N0bmFtZSkpIHtcbiAgICBjb25zb2xlLmxvZyhcIlVzaW5nIHN0YWdpbmcgYXBwX2lkIHdpdGggbG9jYWxob3N0IGJyaWRnZV91cmwuIFNraXBwaW5nIHZhbGlkYXRpb24uXCIpO1xuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XG4gIH1cbiAgaWYgKHRlc3RfdXJsLnByb3RvY29sICE9PSBcImh0dHBzOlwiKSB7XG4gICAgZXJyb3JzLnB1c2goXCJCcmlkZ2UgVVJMIG11c3QgdXNlIEhUVFBTLlwiKTtcbiAgfVxuICBpZiAodGVzdF91cmwucG9ydCkge1xuICAgIGVycm9ycy5wdXNoKFwiQnJpZGdlIFVSTCBtdXN0IHVzZSB0aGUgZGVmYXVsdCBwb3J0ICg0NDMpLlwiKTtcbiAgfVxuICBpZiAodGVzdF91cmwucGF0aG5hbWUgIT09IFwiL1wiKSB7XG4gICAgZXJyb3JzLnB1c2goXCJCcmlkZ2UgVVJMIG11c3Qgbm90IGhhdmUgYSBwYXRoLlwiKTtcbiAgfVxuICBpZiAodGVzdF91cmwuc2VhcmNoKSB7XG4gICAgZXJyb3JzLnB1c2goXCJCcmlkZ2UgVVJMIG11c3Qgbm90IGhhdmUgcXVlcnkgcGFyYW1ldGVycy5cIik7XG4gIH1cbiAgaWYgKHRlc3RfdXJsLmhhc2gpIHtcbiAgICBlcnJvcnMucHVzaChcIkJyaWRnZSBVUkwgbXVzdCBub3QgaGF2ZSBhIGZyYWdtZW50LlwiKTtcbiAgfVxuICBpZiAoIXRlc3RfdXJsLmhvc3RuYW1lLmVuZHNXaXRoKFwiLndvcmxkY29pbi5vcmdcIikgJiYgIXRlc3RfdXJsLmhvc3RuYW1lLmVuZHNXaXRoKFwiLnRvb2xzZm9yaHVtYW5pdHkuY29tXCIpKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJCcmlkZ2UgVVJMIHNob3VsZCBiZSBhIHN1YmRvbWFpbiBvZiB3b3JsZGNvaW4ub3JnIG9yIHRvb2xzZm9yaHVtYW5pdHkuY29tLiBUaGUgdXNlcidzIGlkZW50aXR5IHdhbGxldCBtYXkgcmVmdXNlIHRvIGNvbm5lY3QuIFRoaXMgaXMgYSB0ZW1wb3JhcnkgbWVhc3VyZSBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cIlxuICAgICk7XG4gIH1cbiAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9ycyB9O1xuICB9XG4gIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XG59XG5cbi8vIHNyYy9saWIvdXRpbHMudHNcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXIvaW5kZXguanNcIjtcbnZhciBERUZBVUxUX1ZFUklGSUNBVElPTl9MRVZFTCA9IFwib3JiXCIgLyogT3JiICovO1xudmFyIGJ1ZmZlcl9lbmNvZGUgPSAoYnVmZmVyKSA9PiB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShidWZmZXIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xufTtcbnZhciBidWZmZXJfZGVjb2RlID0gKGVuY29kZWQpID0+IHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGVuY29kZWQsIFwiYmFzZTY0XCIpO1xufTtcbnZhciB2ZXJpZmljYXRpb25fbGV2ZWxfdG9fY3JlZGVudGlhbF90eXBlcyA9ICh2ZXJpZmljYXRpb25fbGV2ZWwpID0+IHtcbiAgc3dpdGNoICh2ZXJpZmljYXRpb25fbGV2ZWwpIHtcbiAgICBjYXNlIFwiZGV2aWNlXCIgLyogRGV2aWNlICovOlxuICAgICAgcmV0dXJuIFtcIm9yYlwiIC8qIE9yYiAqLywgXCJkZXZpY2VcIiAvKiBEZXZpY2UgKi9dO1xuICAgIGNhc2UgXCJvcmJcIiAvKiBPcmIgKi86XG4gICAgICByZXR1cm4gW1wib3JiXCIgLyogT3JiICovXTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHZlcmlmaWNhdGlvbiBsZXZlbDogJHt2ZXJpZmljYXRpb25fbGV2ZWx9YCk7XG4gIH1cbn07XG52YXIgY3JlZGVudGlhbF90eXBlX3RvX3ZlcmlmaWNhdGlvbl9sZXZlbCA9IChjcmVkZW50aWFsX3R5cGUpID0+IHtcbiAgc3dpdGNoIChjcmVkZW50aWFsX3R5cGUpIHtcbiAgICBjYXNlIFwib3JiXCIgLyogT3JiICovOlxuICAgICAgcmV0dXJuIFwib3JiXCIgLyogT3JiICovO1xuICAgIGNhc2UgXCJkZXZpY2VcIiAvKiBEZXZpY2UgKi86XG4gICAgICByZXR1cm4gXCJkZXZpY2VcIiAvKiBEZXZpY2UgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjcmVkZW50aWFsX3R5cGU6ICR7Y3JlZGVudGlhbF90eXBlfWApO1xuICB9XG59O1xuXG4vLyBzcmMvbGliL2NyeXB0by50c1xudmFyIGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbnZhciBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG52YXIgZ2VuZXJhdGVLZXkgPSBhc3luYyAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgaXY6IHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEyKSksXG4gICAga2V5OiBhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleSh7IG5hbWU6IFwiQUVTLUdDTVwiLCBsZW5ndGg6IDI1NiB9LCB0cnVlLCBbXCJlbmNyeXB0XCIsIFwiZGVjcnlwdFwiXSlcbiAgfTtcbn07XG52YXIgZXhwb3J0S2V5ID0gYXN5bmMgKGtleSkgPT4ge1xuICByZXR1cm4gYnVmZmVyX2VuY29kZShhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoXCJyYXdcIiwga2V5KSk7XG59O1xudmFyIGVuY3J5cHRSZXF1ZXN0ID0gYXN5bmMgKGtleSwgaXYsIHJlcXVlc3QpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpdjogYnVmZmVyX2VuY29kZShpdiksXG4gICAgcGF5bG9hZDogYnVmZmVyX2VuY29kZShcbiAgICAgIGF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoeyBuYW1lOiBcIkFFUy1HQ01cIiwgaXYgfSwga2V5LCBlbmNvZGVyLmVuY29kZShyZXF1ZXN0KSlcbiAgICApXG4gIH07XG59O1xudmFyIGRlY3J5cHRSZXNwb25zZSA9IGFzeW5jIChrZXksIGl2LCBwYXlsb2FkKSA9PiB7XG4gIHJldHVybiBkZWNvZGVyLmRlY29kZShhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHsgbmFtZTogXCJBRVMtR0NNXCIsIGl2IH0sIGtleSwgYnVmZmVyX2RlY29kZShwYXlsb2FkKSkpO1xufTtcblxuLy8gc3JjL2JyaWRnZS50c1xudmFyIERFRkFVTFRfQlJJREdFX1VSTCA9IFwiaHR0cHM6Ly9icmlkZ2Uud29ybGRjb2luLm9yZ1wiO1xudmFyIHVzZVdvcmxkQnJpZGdlU3RvcmUgPSBjcmVhdGUoKHNldCwgZ2V0KSA9PiAoe1xuICBpdjogbnVsbCxcbiAga2V5OiBudWxsLFxuICByZXN1bHQ6IG51bGwsXG4gIGVycm9yQ29kZTogbnVsbCxcbiAgcmVxdWVzdElkOiBudWxsLFxuICBjb25uZWN0b3JVUkk6IG51bGwsXG4gIGJyaWRnZV91cmw6IERFRkFVTFRfQlJJREdFX1VSTCxcbiAgdmVyaWZpY2F0aW9uU3RhdGU6IFwibG9hZGluZ193aWRnZXRcIiAvKiBQcmVwYXJpbmdDbGllbnQgKi8sXG4gIGNyZWF0ZUNsaWVudDogYXN5bmMgKHsgYnJpZGdlX3VybCwgYXBwX2lkLCB2ZXJpZmljYXRpb25fbGV2ZWwsIGFjdGlvbl9kZXNjcmlwdGlvbiwgYWN0aW9uLCBzaWduYWwgfSkgPT4ge1xuICAgIGNvbnN0IHsga2V5LCBpdiB9ID0gYXdhaXQgZ2VuZXJhdGVLZXkoKTtcbiAgICBpZiAoYnJpZGdlX3VybCkge1xuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlX2JyaWRnZV91cmwoYnJpZGdlX3VybCwgYXBwX2lkLmluY2x1ZGVzKFwic3RhZ2luZ1wiKSk7XG4gICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcih2YWxpZGF0aW9uLmVycm9ycy5qb2luKFwiXFxuXCIpKTtcbiAgICAgICAgc2V0KHsgdmVyaWZpY2F0aW9uU3RhdGU6IFwiZmFpbGVkXCIgLyogRmFpbGVkICovIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJyaWRnZV91cmwuIFBsZWFzZSBjaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2gobmV3IFVSTChcIi9yZXF1ZXN0XCIsIGJyaWRnZV91cmwgPz8gREVGQVVMVF9CUklER0VfVVJMKSwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBhd2FpdCBlbmNyeXB0UmVxdWVzdChcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgaXYsXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgYXBwX2lkLFxuICAgICAgICAgICAgYWN0aW9uX2Rlc2NyaXB0aW9uLFxuICAgICAgICAgICAgYWN0aW9uOiBlbmNvZGVBY3Rpb24oYWN0aW9uKSxcbiAgICAgICAgICAgIHNpZ25hbDogZ2VuZXJhdGVTaWduYWwoc2lnbmFsKS5kaWdlc3QsXG4gICAgICAgICAgICBjcmVkZW50aWFsX3R5cGVzOiB2ZXJpZmljYXRpb25fbGV2ZWxfdG9fY3JlZGVudGlhbF90eXBlcyhcbiAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2xldmVsID8/IERFRkFVTFRfVkVSSUZJQ0FUSU9OX0xFVkVMXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2xldmVsOiB2ZXJpZmljYXRpb25fbGV2ZWwgPz8gREVGQVVMVF9WRVJJRklDQVRJT05fTEVWRUxcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHNldCh7IHZlcmlmaWNhdGlvblN0YXRlOiBcImZhaWxlZFwiIC8qIEZhaWxlZCAqLyB9KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgY2xpZW50XCIpO1xuICAgIH1cbiAgICBjb25zdCB7IHJlcXVlc3RfaWQgfSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgc2V0KHtcbiAgICAgIGl2LFxuICAgICAga2V5LFxuICAgICAgcmVxdWVzdElkOiByZXF1ZXN0X2lkLFxuICAgICAgYnJpZGdlX3VybDogYnJpZGdlX3VybCA/PyBERUZBVUxUX0JSSURHRV9VUkwsXG4gICAgICB2ZXJpZmljYXRpb25TdGF0ZTogXCJhd2FpdGluZ19jb25uZWN0aW9uXCIgLyogV2FpdGluZ0ZvckNvbm5lY3Rpb24gKi8sXG4gICAgICBjb25uZWN0b3JVUkk6IGBodHRwczovL3dvcmxkY29pbi5vcmcvdmVyaWZ5P3Q9d2xkJmk9JHtyZXF1ZXN0X2lkfSZrPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICBhd2FpdCBleHBvcnRLZXkoa2V5KVxuICAgICAgKX0ke2JyaWRnZV91cmwgJiYgYnJpZGdlX3VybCAhPT0gREVGQVVMVF9CUklER0VfVVJMID8gYCZiPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGJyaWRnZV91cmwpfWAgOiBcIlwifWBcbiAgICB9KTtcbiAgfSxcbiAgcG9sbEZvclVwZGF0ZXM6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBrZXkgPSBnZXQoKS5rZXk7XG4gICAgaWYgKCFrZXkpIHRocm93IG5ldyBFcnJvcihcIk5vIGtleXBhaXIgZm91bmQuIFBsZWFzZSBjYWxsIGBjcmVhdGVDbGllbnRgIGZpcnN0LlwiKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChuZXcgVVJMKGAvcmVzcG9uc2UvJHtnZXQoKS5yZXF1ZXN0SWR9YCwgZ2V0KCkuYnJpZGdlX3VybCkpO1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICByZXR1cm4gc2V0KHtcbiAgICAgICAgZXJyb3JDb2RlOiBcImNvbm5lY3Rpb25fZmFpbGVkXCIgLyogQ29ubmVjdGlvbkZhaWxlZCAqLyxcbiAgICAgICAgdmVyaWZpY2F0aW9uU3RhdGU6IFwiZmFpbGVkXCIgLyogRmFpbGVkICovXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyByZXNwb25zZSwgc3RhdHVzIH0gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmIChzdGF0dXMgIT0gXCJjb21wbGV0ZWRcIiAvKiBDb21wbGV0ZWQgKi8pIHtcbiAgICAgIHJldHVybiBzZXQoe1xuICAgICAgICB2ZXJpZmljYXRpb25TdGF0ZTogc3RhdHVzID09IFwicmV0cmlldmVkXCIgLyogUmV0cmlldmVkICovID8gXCJhd2FpdGluZ19hcHBcIiAvKiBXYWl0aW5nRm9yQXBwICovIDogXCJhd2FpdGluZ19jb25uZWN0aW9uXCIgLyogV2FpdGluZ0ZvckNvbm5lY3Rpb24gKi9cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gSlNPTi5wYXJzZShcbiAgICAgIGF3YWl0IGRlY3J5cHRSZXNwb25zZShrZXksIGJ1ZmZlcl9kZWNvZGUocmVzcG9uc2UuaXYpLCByZXNwb25zZS5wYXlsb2FkKVxuICAgICk7XG4gICAgaWYgKFwiZXJyb3JfY29kZVwiIGluIHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHNldCh7XG4gICAgICAgIGVycm9yQ29kZTogcmVzdWx0LmVycm9yX2NvZGUsXG4gICAgICAgIHZlcmlmaWNhdGlvblN0YXRlOiBcImZhaWxlZFwiIC8qIEZhaWxlZCAqL1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChcImNyZWRlbnRpYWxfdHlwZVwiIGluIHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB2ZXJpZmljYXRpb25fbGV2ZWw6IGNyZWRlbnRpYWxfdHlwZV90b192ZXJpZmljYXRpb25fbGV2ZWwocmVzdWx0LmNyZWRlbnRpYWxfdHlwZSksXG4gICAgICAgIC4uLnJlc3VsdFxuICAgICAgfTtcbiAgICB9XG4gICAgc2V0KHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIGtleTogbnVsbCxcbiAgICAgIHJlcXVlc3RJZDogbnVsbCxcbiAgICAgIGNvbm5lY3RvclVSSTogbnVsbCxcbiAgICAgIHZlcmlmaWNhdGlvblN0YXRlOiBcImNvbmZpcm1lZFwiIC8qIENvbmZpcm1lZCAqL1xuICAgIH0pO1xuICB9LFxuICByZXNldDogKCkgPT4ge1xuICAgIHNldCh7XG4gICAgICBpdjogbnVsbCxcbiAgICAgIGtleTogbnVsbCxcbiAgICAgIHJlc3VsdDogbnVsbCxcbiAgICAgIGVycm9yQ29kZTogbnVsbCxcbiAgICAgIHJlcXVlc3RJZDogbnVsbCxcbiAgICAgIGNvbm5lY3RvclVSSTogbnVsbCxcbiAgICAgIHZlcmlmaWNhdGlvblN0YXRlOiBcImxvYWRpbmdfd2lkZ2V0XCIgLyogUHJlcGFyaW5nQ2xpZW50ICovXG4gICAgfSk7XG4gIH1cbn0pKTtcbmV4cG9ydCB7XG4gIEFwcEVycm9yQ29kZXMsXG4gIENyZWRlbnRpYWxUeXBlLFxuICBERUZBVUxUX1ZFUklGSUNBVElPTl9MRVZFTCxcbiAgVmVyaWZpY2F0aW9uTGV2ZWwsXG4gIFZlcmlmaWNhdGlvblN0YXRlLFxuICB1c2VXb3JsZEJyaWRnZVN0b3JlLFxuICB2ZXJpZmljYXRpb25fbGV2ZWxfdG9fY3JlZGVudGlhbF90eXBlc1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/backend.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/backend.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   verifyCloudProof: () => (/* binding */ verifyCloudProof)\n/* harmony export */ });\n/* harmony import */ var _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-QN7JTJAQ.js */ \"(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\");\n/* harmony import */ var browser_or_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! browser-or-node */ \"(rsc)/./node_modules/.pnpm/browser-or-node@3.0.0-pre.0/node_modules/browser-or-node/dist/index.mjs\");\n\n\n// src/lib/backend.ts\n\nasync function verifyCloudProof(proof, app_id, action, signal, endpoint) {\n  if (browser_or_node__WEBPACK_IMPORTED_MODULE_1__.isBrowser) {\n    throw new Error(\"verifyCloudProof can only be used in the backend.\");\n  }\n  const response = await fetch(endpoint ?? `https://developer.worldcoin.org/api/v2/verify/${app_id}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ...proof,\n      action,\n      signal_hash: (0,_chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.hashToField)(signal ?? \"\").digest\n    })\n  });\n  if (response.ok) {\n    return { success: true };\n  } else {\n    return { success: false, ...await response.json() };\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9saWIvYmFja2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBQzRDO0FBQzVDO0FBQ0EsTUFBTSxzREFBUztBQUNmO0FBQ0E7QUFDQSw0RkFBNEYsT0FBTztBQUNuRztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtEQUFXO0FBQzlCLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxhQUFhO0FBQ2IsSUFBSTtBQUNKLGFBQWE7QUFDYjtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAtcm91dGVyLXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3b3JsZGNvaW4raWRraXQtY29yZUAxLjMuMF9AdHlwZXMrcmVhY3RAMTguMy40X3JlYWN0QDE4LjMuMV90eXBlc2NyaXB0QDUuNS40L25vZGVfbW9kdWxlcy9Ad29ybGRjb2luL2lka2l0LWNvcmUvYnVpbGQvbGliL2JhY2tlbmQuanM/MzhlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXNoVG9GaWVsZFxufSBmcm9tIFwiLi4vY2h1bmstUU43SlRKQVEuanNcIjtcblxuLy8gc3JjL2xpYi9iYWNrZW5kLnRzXG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tIFwiYnJvd3Nlci1vci1ub2RlXCI7XG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlDbG91ZFByb29mKHByb29mLCBhcHBfaWQsIGFjdGlvbiwgc2lnbmFsLCBlbmRwb2ludCkge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidmVyaWZ5Q2xvdWRQcm9vZiBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBiYWNrZW5kLlwiKTtcbiAgfVxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50ID8/IGBodHRwczovL2RldmVsb3Blci53b3JsZGNvaW4ub3JnL2FwaS92Mi92ZXJpZnkvJHthcHBfaWR9YCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIC4uLnByb29mLFxuICAgICAgYWN0aW9uLFxuICAgICAgc2lnbmFsX2hhc2g6IGhhc2hUb0ZpZWxkKHNpZ25hbCA/PyBcIlwiKS5kaWdlc3RcbiAgICB9KVxuICB9KTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCAuLi5hd2FpdCByZXNwb25zZS5qc29uKCkgfTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgdmVyaWZ5Q2xvdWRQcm9vZlxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/backend.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/hashing.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/hashing.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeAction: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.encodeAction),\n/* harmony export */   generateSignal: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.generateSignal),\n/* harmony export */   hashToField: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.hashToField),\n/* harmony export */   packAndEncode: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.packAndEncode),\n/* harmony export */   solidityEncode: () => (/* reexport safe */ _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__.solidityEncode)\n/* harmony export */ });\n/* harmony import */ var _chunk_QN7JTJAQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-QN7JTJAQ.js */ \"(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/chunk-QN7JTJAQ.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdvcmxkY29pbitpZGtpdC1jb3JlQDEuMy4wX0B0eXBlcytyZWFjdEAxOC4zLjRfcmVhY3RAMTguMy4xX3R5cGVzY3JpcHRANS41LjQvbm9kZV9tb2R1bGVzL0B3b3JsZGNvaW4vaWRraXQtY29yZS9idWlsZC9saWIvaGFzaGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFNOEI7QUFPNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAtcm91dGVyLXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3b3JsZGNvaW4raWRraXQtY29yZUAxLjMuMF9AdHlwZXMrcmVhY3RAMTguMy40X3JlYWN0QDE4LjMuMV90eXBlc2NyaXB0QDUuNS40L25vZGVfbW9kdWxlcy9Ad29ybGRjb2luL2lka2l0LWNvcmUvYnVpbGQvbGliL2hhc2hpbmcuanM/OTBjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBlbmNvZGVBY3Rpb24sXG4gIGdlbmVyYXRlU2lnbmFsLFxuICBoYXNoVG9GaWVsZCxcbiAgcGFja0FuZEVuY29kZSxcbiAgc29saWRpdHlFbmNvZGVcbn0gZnJvbSBcIi4uL2NodW5rLVFON0pUSkFRLmpzXCI7XG5leHBvcnQge1xuICBlbmNvZGVBY3Rpb24sXG4gIGdlbmVyYXRlU2lnbmFsLFxuICBoYXNoVG9GaWVsZCxcbiAgcGFja0FuZEVuY29kZSxcbiAgc29saWRpdHlFbmNvZGVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@worldcoin+idkit-core@1.3.0_@types+react@18.3.4_react@18.3.1_typescript@5.5.4/node_modules/@worldcoin/idkit-core/build/lib/hashing.js\n");

/***/ })

};
;